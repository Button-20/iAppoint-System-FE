<form class="mx-4" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
  <div class="form-input mb-2">
    <input
      type="email"
      id="email"
      aria-describedby="emailHelp"
      autocomplete="off"
      formControlName="email"
      placeholder="Email address"
      required
      [ngClass]="{
        'is-invalid': email.invalid && (email.dirty || email.touched),
        'is-valid': email.valid && (email.dirty || email.touched)
      }"
    />
    <label for="email" class="form-label">Email address</label>
  </div>
  <div
    class="validation-messages"
    *ngIf="email.invalid && (email.dirty || email.touched)"
  >
    <small
      *ngIf="
        email.invalid && (email.dirty || email.touched) && email.errors?.['required']
      "
      class="text-danger"
    >
      Email is required
    </small>
    <small
      *ngIf="
        email.invalid && (email.dirty || email.touched) && email.errors?.['email']
      "
      class="text-danger"
    >
      Email must be a valid email address
    </small>
  </div>

  <div class="form-input mb-2 mt-4">
    <input
      type="password"
      id="password"
      placeholder="Password"
      formControlName="password"
      required
      [ngClass]="{
        'is-invalid': password.invalid && (password.dirty || password.touched),
        'is-valid': password.valid && (password.dirty || password.touched)
      }"
    />
    <label for="password" class="form-label">Password</label>
  </div>
  <div
    class="validation-messages"
    *ngIf="password.invalid && (password.dirty || password.touched)"
  >
    <small
      *ngIf="
        password.invalid && (password.dirty || password.touched) && password.errors?.['required']
      "
      class="text-danger"
    >
      Password is required
    </small>
    <small
      *ngIf="
        password.invalid && (password.dirty || password.touched) && password.errors?.['pattern']
      "
      class="text-danger"
    >
      Minimum eight characters, at least one uppercase letter, one lowercase
      letter, one number and one special character
    </small>
  </div>

  <div class="form-input mb-2 mt-4">
    <input
      type="password"
      id="confirmPassword"
      placeholder="Confirm Password"
      formControlName="confirmPassword"
      required
      [ngClass]="{
        'is-invalid':
          confirmPassword.invalid &&
          (confirmPassword.dirty || confirmPassword.touched),
        'is-valid':
          confirmPassword.valid &&
          (confirmPassword.dirty || confirmPassword.touched)
      }"
    />
    <label for="confirmPassword" class="form-label">Confirm Password</label>
  </div>
  <div
    class="validation-messages"
    *ngIf="
      confirmPassword.invalid &&
      (confirmPassword.dirty || confirmPassword.touched)
    "
  >
    <small
      *ngIf="
        confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched) && confirmPassword.errors?.['required']
      "
      class="text-danger"
    >
      Confirm password is required
    </small>
    <small
      *ngIf="
        confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched) && confirmPassword.errors?.['matching']
      "
      class="text-danger"
    >
      Confirm password must match password
    </small>
  </div>

  <div class="d-flex justify-content-end align-items-center mt-5">
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="resetPasswordForm.invalid"
    >
      Submit
    </button>
  </div>
</form>
